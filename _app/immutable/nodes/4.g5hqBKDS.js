var Le=Object.defineProperty;var We=(n,e,t)=>e in n?Le(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>We(n,typeof e!="symbol"?e+"":e,t);import"../chunks/CWj6FrbW.js";import{o as Ve,s as oe}from"../chunks/CJDjr42K.js";import{h as ge,K as Me,a1 as Pe,y as le,z as ce,B as Ee,C as je,aJ as Ae,u as Ue,d as Fe,O as Re,N as Te,P as fe,f as A,s as T,V as B,b as P,Q as Ye,T as _,aG as De,af as ue,c as Y,az as Oe,r as F,a as He}from"../chunks/DPLFGynG.js";import{i as z}from"../chunks/DNQr9wEM.js";import{e as de,i as pe,s as me,a as ze}from"../chunks/BBXXvqUi.js";import{d as Ge}from"../chunks/CncUDn7n.js";import{b as Ke}from"../chunks/CgpH4TcC.js";import{u as Be}from"../chunks/D-KzsYLn.js";import{g as Je}from"../chunks/C-o-xBHO.js";function qe(n){ge&&Me(n)!==null&&Pe(n)}let he=!1;function Qe(){he||(he=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Xe(n){var e=Ee,t=je;le(null),ce(null);try{return n()}finally{le(e),ce(t)}}function Ze(n,e,t,r=t){n.addEventListener(e,()=>Xe(t));const s=n.__on_r;s?n.__on_r=()=>{s(),r(!0)}:n.__on_r=()=>r(!0),Qe()}function en(n,e,t=e){var r=Ae();Ze(n,"input",s=>{var o=s?n.defaultValue:n.value;if(o=te(n)?re(o):o,t(o),r&&o!==(o=e())){var u=n.selectionStart,f=n.selectionEnd;n.value=o??"",f!==null&&(n.selectionStart=u,n.selectionEnd=Math.min(f,n.value.length))}}),(ge&&n.defaultValue!==n.value||Ue(e)==null&&n.value)&&t(te(n)?re(n.value):n.value),Fe(()=>{var s=e();te(n)&&s===re(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function te(n){var e=n.type;return e==="number"||e==="range"}function re(n){return n===""?null:+n}let K=new Map;class b{constructor(e){ae(this,"execute");this.execute=e}run(e){const t=e.split(" ").slice(1);this.execute(t)}}function v(n,e){if(K.has(n))throw new Error(`Command ${n} already exists.`);K.set(n,e)}function ye(n){const e=n.split(" ")[0];return K.get(e)}let i=Re({text:"",lines:[],color:"neutral-100",executingScript:!1,inputValue:"",awaitingInput:!1});const se=["neutral-100","blue-500","green-500","cyan-400","red-500","purple-500","yellow-500","gray-500","pink-400","orange-500","amber-900","black","green-300"],be=["white","blue","green","aqua","red","purple","yellow","gray","pink","orange","brown","black","light green"];function nn(n){n!==-1?i.color=se[n]:console.warn(`Color "${n}" is not recognized.`)}async function q(n){return new Promise(e=>setTimeout(e,n))}function a(n,e){e(`Error on line ${m}: ${n}`),i.executingScript=!1,i.awaitingInput=!1,i.inputValue=""}function X(n){const e=/"([^"]*)"|([^\s()]+)|(\()|(\))/g,t=[];let r;for(;(r=e.exec(n))!==null;)r[1]?t.push(`"${r[1]}"`):r[2]?t.push(r[2]):r[3]?t.push("("):r[4]&&t.push(")");return t}function tn(n){let e=0;for(let t=n+1;t<=Math.max(...Array.from(h.keys()));t++){if(!h.has(t))continue;const r=h.get(t);if(r){if(r.trim().startsWith("if"))e++;else if(r.trim().startsWith("else")){if(e===0)return t;e--}else if(r.trim().startsWith("endif")){if(e===0)return null;e--}}}return null}function ve(n){let e=0;for(let t=n+1;t<=Math.max(...Array.from(h.keys()));t++){if(!h.has(t))continue;const r=h.get(t);if(r)if(r.trim().startsWith("if"))e++;else{if(r.trim().startsWith("else"))continue;if(r.trim().startsWith("endif")){if(e===0)return t;e--}}}return null}function rn(n){let e=0;for(let t=n+1;t<=Math.max(...Array.from(h.keys()));t++){if(!h.has(t))continue;const r=h.get(t);if(r)if(r.trim().startsWith("for")||r.trim().startsWith("if"))e++;else{if(r.trim().startsWith("next")&&e===0)return t;(r.trim().startsWith("next")||r.trim().startsWith("endif"))&&e--}}return null}function sn(n){let e=0;for(let t=n+1;t<=Math.max(...Array.from(h.keys()));t++){if(!h.has(t))continue;const r=h.get(t);if(r){if(r.trim().startsWith("def"))e++;else if(r.trim().startsWith("enddef")){if(e===0)return t;e--}}}return null}function S(n){const t=Array.from(h.keys()).filter(r=>r>n);return t.length>0?Math.min(...t):null}let x=[new Map],R;const an=["typeof","round","floor","ceil","exists","len"];function on(){x=[new Map],R=void 0,bn()}function $(n){for(const e of x.slice().reverse())if(e.has(n))return e.get(n)}function C(n,e,t,r=!1){if(typeof e=="string")if(e=e.toString(),e.startsWith('"')&&e.endsWith('"'))e=e.slice(1,-1);else{a(`Invalid value for variable "${n}". Expected a number or a quoted string.`,t);return}if(r){if(x[x.length-1].has(n)){a(`Variable "${n}" already exists. Use a different name.`,t);return}x[x.length-1].set(n,e);return}for(const s of x.slice().reverse())if(s.has(n)){s.set(n,e);return}x[x.length-1].set(n,e)}function ln(n,e,t,r){if(typeof e=="string"&&typeof t=="string")switch(n){case"+":return e+""+t;default:a(`Unknown operator "${n}" for string operation.`,r);return}else if(typeof e=="string"&&typeof t=="number")switch(n){case"+":return e+" "+t;case"*":if(isNaN(Number(t))){a(`Cannot multiply string "${e}" by non-numeric value "${t}".`,r);return}if(Number(t)<0){a(`Cannot multiply string "${e}" by negative value "${t}".`,r);return}return e.repeat(Number(t));default:a(`Unknown operator "${n}" for string and number operation.`,r);return}else if(typeof e=="number"&&typeof t=="number")switch(n){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":if(t===0){a("Cannot divide by zero.",r);return}return e/t;case"%":if(t===0){a("Cannot modulo by zero.",r);return}return e%t;default:a(`Unknown operator "${n}" for number operation.`,r);return}else if(typeof e=="number"&&typeof t=="string")switch(n){case"+":return e+" "+t;case"*":if(isNaN(Number(e))){a(`Cannot multiply string "${t}" by non-numeric value "${e}".`,r);return}return t.repeat(Number(e));default:a(`Unknown operator "${n}" for string and number operation.`,r);return}else{a(`Invalid operation between "${e}" and "${t}" with operator "${n}.`,r);return}}function cn(n,e){if(!n.startsWith("typeof(")||!n.endsWith(")")){a(`Invalid typeof command syntax. Expected "typeof(variableName)". Got "${n}".`,e);return}const t=n.slice(7,-1).trim(),r=$(t);if(r===void 0){a(`Variable "${t}" does not exist.`,e);return}return`"${typeof r}"`}function fn(n,e){if(!n.startsWith("round(")||!n.endsWith(")")){a('Invalid round command syntax. Expected "round(variableName)".',e);return}const t=n.slice(6,-1).trim(),r=$(t);if(r===void 0){a(`Variable "${t}" does not exist.`,e);return}if(typeof r!="number"){a(`Cannot round variable "${t}" of type "${typeof r}". Expected a number.`,e);return}return Math.round(r)}function un(n,e){if(!n.startsWith("floor(")||!n.endsWith(")")){a('Invalid floor command syntax. Expected "floor(variableName)".',e);return}const t=n.slice(6,-1).trim(),r=$(t);if(r===void 0){a(`Variable "${t}" does not exist.`,e);return}if(typeof r!="number"){a(`Cannot floor variable "${t}" of type "${typeof r}". Expected a number.`,e);return}return Math.floor(r)}function dn(n,e){if(!n.startsWith("ceil(")||!n.endsWith(")")){a('Invalid ceil command syntax. Expected "ceil(variableName)".',e);return}const t=n.slice(5,-1).trim(),r=$(t);if(r===void 0){a(`Variable "${t}" does not exist.`,e);return}if(typeof r!="number"){a(`Cannot ceil variable "${t}" of type "${typeof r}". Expected a number.`,e);return}return Math.ceil(r)}function pn(n){return $(n)!==void 0}function J(n,e){if(n=n.trim(),n!==""){if($(n)!==void 0)return $(n);if(n.startsWith("typeof("))return cn(n,e);if(n.startsWith('"')&&n.endsWith('"'))return n;if(n.startsWith("round(")&&n.endsWith(")"))return fn(n,e);if(n.startsWith("floor(")&&n.endsWith(")"))return un(n,e);if(n.startsWith("ceil(")&&n.endsWith(")"))return dn(n,e);if(n.startsWith("exists(")&&n.endsWith(")")){const t=n.slice(7,-1).trim();return pn(t)?'"true"':'"false"'}if(n.startsWith("len(")&&n.endsWith(")"))return hn(n,e);if(!isNaN(Number(n)))return Number(n);a(`Invalid identifier "${n}". Expected a variable, string, or a number.`,e)}}function E(n,e){let t=X(n);if(t.length===0)return;if(an.includes(t[0]))return J(t.join(""),e);if(t.length===1){const f=t[0].trim();return J(f,e)}if(t.length%2===0)return;const r={"+":1,"-":1,"*":2,"/":2,"%":2};function s(f){const c=[],l=[],p={"+":1,"-":1,"*":2,"/":2,"%":2},y={"+":"left","-":"left","*":"left","/":"left","%":"left"};for(let g of f)if(g=g.trim(),g==="(")l.push(g);else if(g===")"){for(;l.length>0&&l[l.length-1]!=="(";)c.push(l.pop());if(l.length===0||l[l.length-1]!=="(")return a("Mismatched parentheses in expression.",e),[];l.pop()}else if(r[g]){for(;l.length>0&&r[l[l.length-1]]&&(y[g]==="left"&&p[g]<=p[l[l.length-1]]||y[g]==="right"&&p[g]<p[l[l.length-1]]);)c.push(l.pop());l.push(g)}else c.push(g);for(;l.length>0;){const g=l.pop();if(g==="("||g===")")return a("Mismatched parentheses in expression.",e),[];c.push(g)}return c}function o(f){const c=[];for(const p of f)if(r[p]){if(c.length<2){a("Invalid expression syntax.",e);return}const y=c.pop();let N=c.pop(),I=y,d=typeof N=="string"&&N.toString().startsWith('"'),w=typeof I=="string"&&I.toString().startsWith('"');d&&(N=N.toString().slice(1,-1)),w&&(I=I.toString().slice(1,-1));const L=ln(p,N,I,e);if(L===void 0)return;c.push(L)}else{const y=J(p,e);if(y===void 0)return;c.push(y)}if(c.length!==1){a("Invalid expression syntax.",e);return}const l=c[0];return typeof l=="string"?`"${l.toString().replace(/^"|"$/g,"")}"`:l}const u=s(t);return o(u)}function mn(n,e){const t=n.split("=");if(t.length!==2){a("Invalid let command syntax.",e);return}const r=t[0].trim();let s=E(t[1].trim(),e);if(r===""||s===""||s===void 0){a("Invalid variable name or value.",e);return}if(x[x.length-1].has(r)){a(`Variable "${r}" already exists. Use a different name.`,e);return}if(K.has(r)){a(`${r} is a command. Please use a different name.`,e);return}C(r,s,e)}function hn(n,e){if(!n.startsWith("len(")||!n.endsWith(")")){a("Invalid len command syntax.",e);return}const t=n.slice(4,-1).trim(),r=$(t);if(r===void 0){a(`Variable "${t}" does not exist.`,e);return}if(typeof r!="string"){a(`Cannot get length of variable "${t}" of type "${typeof r}". Expected a string.`,e);return}return r.toString().length}function vn(n,e){const t=X(n.trim());if(t.length<2){a("Invalid variable command syntax",e);return}const r=t[0].trim(),s=t[1].trim(),o=$(r),u=E(t.slice(2).join(" ").trim(),e);if(o===void 0){a(`Variable "${r}" does not exist.`,e);return}if(u===void 0){a(`Invalid assignment value for variable "${r}".`,e);return}if(s==="="&&C(r,u,e),s==="+="){if(typeof o=="number"){const f=o+Number(u);C(r,f,e)}else{const f=o+" "+u;C(r,f,e)}return}if(s==="-="){if(typeof o=="number"){const f=o-Number(u);C(r,f,e)}else a(`Cannot perform -= operation on string variable "${r}".`,e);return}if(s==="*="){if(typeof o=="number"){const f=o*Number(u);C(r,f,e)}else{isNaN(Number(u))&&a(`Cannot perform *= operation on string variable "${r}" with non-numeric value "${u}".`,e),Number(u)<0&&a(`Cannot multiply string variable "${r}" by negative value "${u}".`,e);const f=o.repeat(Number(u));C(r,`"${f}"`,e)}return}}function we(n,e){for(const t of x.slice().reverse())if(t.has(n)){t.delete(n);return}a(`Variable "${n}" does not exist.`,e)}async function gn(n,e){if(n.trim()===""||n.trim().includes(" ")){a('Invalid input command syntax. Expected "input variableName".',e);return}const t=n.trim();if(t===""||t.includes(" ")){a(`Invalid variable name "${t}".`,e);return}if(K.has(t)){a(`${t} is a command. Please use a different name.`,e);return}R=t,i.inputValue="",i.awaitingInput=!0}function yn(n){if(R===void 0){a('No input variable name specified. Please use "input variableName" command.',n);return}const e=i.inputValue.trim(),r=(e===""||isNaN(Number(e))?"string":"number")==="string"?`"${e}"`:Number(e);$(R)!==void 0&&we(R,n),C(R,r,n),R=void 0,i.inputValue="",i.awaitingInput=!1}let D=new Map;function bn(){D.clear()}function wn(n,e){let t=X(n);if(t.length===0){a("No output to print.",e);return}t=t.map(r=>{var o;let s=(o=J(r,e))==null?void 0:o.toString();return s!==void 0?(s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1)),s):(a(`Variable "${r}" does not exist.`,e),"")}),e(t.join(" "))}function xn(n,e){const t=X(n.trim());if(t.length<3)return a("Invalid if command syntax.",e),!1;const r=["==","!=","<","<=",">",">="],s=t.findIndex(y=>r.includes(y));if(s===-1||s<1||s>t.length-2)return a("Invalid operator in if command",e),!1;let o=t.slice(0,s);const u=t[s];let f=t.slice(s+1),c=E(o.join(" "),e),l=E(f.join(" "),e);if(c===void 0||l===void 0)return a("Invalid left or right value in if command.",e),!1;typeof c=="string"&&c.startsWith('"')&&c.endsWith('"')&&(c=c.slice(1,-1)),typeof l=="string"&&l.startsWith('"')&&l.endsWith('"')&&(l=l.slice(1,-1));let p=!1;if(typeof c=="number"&&typeof l=="number")switch(u){case"==":p=c===l;break;case"!=":p=c!==l;break;case"<":p=c<l;break;case"<=":p=c<=l;break;case">":p=c>l;break;case">=":p=c>=l;break;default:return a(`Unknown operator "${u}".`,e),!1}else if(typeof c=="string")switch(u){case"==":p=c===l;break;case"!=":p=c!==l;break;default:return a(`Unknown operator "${u}" for string comparison.`,e),!1}else return a(`Cannot compare "${c}" of type ${typeof c} with value "${l}".`,e),!1;return p}function $n(n){const e=Array.from(h.entries()).sort((t,r)=>t[0]-r[0]);n(e.map(t=>`${t[0]} ${t[1]}`).join(`
`))}function Nn(n){var r;let e=new Map;const t=10;Pn(new Map(Array.from(h.entries()).map((s,o)=>(e.set(s[0],(o+1)*t),[(o+1)*t,s[1]]))));for(const s of h.entries()){const[o,u]=s;if(u.trim().split(" ")[0]==="goto"){const f=u.trim().split(" ").slice(1),c=parseInt(f[0]);!isNaN(c)&&e.has(c)?(f[0]=((r=e.get(c))==null?void 0:r.toString())||"0",h.set(o,`goto ${f.join(" ")}`)):n(`Invalid line number in goto command: ${f[0]}`)}}}function In(n,e){if(n.length===0){a("Please provide a line number to go to.",e);return}const t=parseInt(n[0]);if(isNaN(t)){a(`Invalid line number: ${n[0]}`,e);return}if(!h.has(t)){a(`Line ${t} does not exist.`,e);return}j(t)}function kn(n,e){if(D.has(m)){const{variable:N,start:I,end:d,step:w,endLine:L}=D.get(m);let k=$(N);if(k===void 0){a(`Variable "${N}" does not exist.`,e);return}if(isNaN(Number(k))&&a(`Variable "${N}" is not a number.`,e),k=Number(k)+w,x.pop(),w<0&&k<=d||w>0&&k>=d){D.delete(m),j(S(L)||L+1);return}x.push(new Map),C(N,k,e,!0),j(S(m)||m+1);return}const t=n.indexOf(" to ");if(t===-1)return a('Invalid for loop syntax. Expected "for variable = start to end [step stepValue]".',e),!1;const r=n.slice(0,t).trim(),s=n.indexOf(" step ",t+4),o=s===-1?n.slice(t+4).trim():n.slice(t+4,s).trim(),u=s===-1?"":n.slice(s+6).trim(),f=r.split("=");if(f.length!==2)return a('Invalid for loop syntax. Expected "for variable = start to end [step stepValue]".',e),!1;const c=f[0].trim();let l=E(f[1].trim(),e),p=E(o,e),y=u?E(u,e):1;const g=rn(m);if(l===void 0||p===void 0)return a("Invalid start or end value in for loop.",e),!1;if(g===null)return a("No paired 'next' found for 'for' loop.",e),!1;if($(l.toString())!==void 0&&(l=$(l.toString())),$(p.toString())!==void 0&&(p=$(p.toString())),isNaN(Number(l))||isNaN(Number(p)))return a("Invalid start or end value in for loop.",e),!1;if(l=Number(l),p=Number(p),isNaN(Number(y))||y===void 0)return a("Invalid step value in for loop.",e),!1;if(y=Number(y),y===0)return a("Step value cannot be zero in for loop.",e),!1;x.push(new Map),C(c,l,e,!0),D.set(m,{variable:c,start:l,end:p,step:y,endLine:g})}function _n(n){const e=Array.from(D.entries()).find(([s,o])=>o.endLine===m);if(!e)return a("No 'for' loop found for 'next'.",n),!1;const[t,r]=e;j(t)}async function Cn(n,e){const t=E(n,e);if(t===void 0){a("Invalid sleep duration.",e);return}if(typeof t!="number"||isNaN(t)||t<0){a(`Invalid duration: ${n[0]}`,e);return}await q(t),j(S(m)||m+1)}let G=[],Q=[];function Sn(n){G=[],Q=[],Array.from(h.entries()).forEach(([e,t])=>{if(!t.trim().startsWith("def"))return;const r=t.split(" ")[1];if(!r){a("Function name is missing.",n);return}if(G.some(o=>o.name===r)){a(`Function '${r}' is already defined.`,n);return}const s=sn(e);if(s===null){a(`No matching 'enddef' found for function '${r}' at line ${e}.`,n);return}G.push({name:r,lineNum:e,endLine:s})})}function Ln(n,e){const t=G.find(r=>r.name===n);if(!t){a(`Function '${n}' is not defined.`,e);return}Q.push(m),x.push(new Map),j(S(t.lineNum)||t.endLine)}function Wn(n){if(Q.length===0)return;let e=Q.pop();x.pop(),e!==void 0?(e=S(e)||e+1,j(e)):a("Failed to return from function.",n)}function Vn(n,e){const t=n[0].trim();if(!t){a("Function name is missing.",e);return}const r=G.find(s=>s.name===t);if(!r){a(`Function '${t}' is not defined.`,e);return}j(S(r.endLine)||r.endLine)}let h=new Map,m=0;function Mn(n,e){h.set(n,e),e===""&&h.delete(n),xe()}function Pn(n){h=new Map(n),xe()}function j(n){const e=Math.max(...Array.from(h.keys()),0);if(n>e&&(i.executingScript=!1),n<0){a("Line number cannot be negative.",t=>{i.lines.push({type:"response",value:t})});return}h.has(n)&&(m=n),m=Math.max(0,m)}function xe(){h=new Map(Array.from(h.entries()).sort((n,e)=>n[0]-e[0]))}async function En(n,e,t){if(e.trim().startsWith("#")||e.trim()==="")return;const r=e.split(" "),s=r[0],o=r.slice(1),u=ye(e);if(u){u.run(e);return}if(s==="end"){i.executingScript=!1;return}if(s==="let"){mn(o.join(" "),t);return}if(s==="input"){gn(o.join(" "),t);return}if(s==="def"){Vn(o,t);return}if(s==="sleep"){await Cn(o.join(" "),t);return}if(s==="enddef"){Wn(t);return}if(s==="call"){Ln(o[0],t);return}if(s==="goto"){In(o,t);return}if(s==="del"){we(o.join(" "),t);return}if(s==="for"){kn(o.join(" "),t);return}if(s==="next"){_n(t);return}if(s==="sleep"){if(o.length===0||isNaN(parseInt(o[0]))){i.lines.push({type:"response",value:`Please provide a valid sleep duration in milliseconds. Line ${n}`});return}const f=parseInt(o[0]);q(f);return}if(s==="print"){wn(o.join(" "),t);return}if(s==="else"){const f=ve(n);if(f!==null)m=f+1;else{a("No matching endif found for else statement.",t),i.executingScript=!1;return}return}if(s!=="endif"){if(s==="if"){if(!xn(o.join(" "),t)){const c=tn(n),l=ve(n);if(c!==null&&(l===null||c<l))m=S(c)||c+1;else if(l!==null)m=S(l)||l+1;else{a("No matching endif found for if statement.",t),i.executingScript=!1;return}}return}if($(s)!==void 0){vn(e,t);return}a(`Unknown command "${s}".`,t)}}async function jn(n,e){const t=new Map(Array.from(h.entries()).sort((s,o)=>s[0]-o[0]));on();const r=t.size>0?Math.max(...Array.from(t.keys())):0;for(m=0,i.executingScript=!0,Sn(e);m<=r&&i.executingScript;){if(!t.has(m)){m=S(m)||r+1;continue}const s=t.get(m),o=m;s?await En(m,s,e):console.warn(`No command to execute for line ${m}`);const u=i.awaitingInput;for(;i.awaitingInput;)await q(0);u&&yn(e),m===o&&(m=S(m)||r+1),window.scrollTo(0,document.body.scrollHeight),await q(0)}i.executingScript=!1}function An(){i.executingScript&&(i.executingScript=!1,i.awaitingInput=!1,i.inputValue="",i.lines.push({type:"response",value:`Script execution forcibly stopped at line ${m}.`}))}function Un(){window.open("/docs","_blank"),i.lines.push({type:"response",value:"Documentation opened in a new tab."})}function Fn(n){const e=new b(o=>{jn(o,n)}),t=new b(o=>{$n(n)}),r=new b(o=>{Nn(n)}),s=new b(o=>{Un()});v("run",e),v("list",t),v("renumber",r),v("docs",s)}function Rn(n){n.length<1&&i.lines.push({type:"response",value:"Usage: save <filename> - Saves the script to a text file."});const e=n[0],t=Array.from(h.entries()).map(([u,f])=>`${u} ${f}`).join(`
`),r=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=e.endsWith(".txt")?e:`${e}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}function Tn(n){const e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=t=>{var o;const r=(o=t.target.files)==null?void 0:o[0];if(!r){i.lines.push({type:"response",value:"No file selected."});return}const s=new FileReader;s.onload=u=>{var l;const f=(l=u.target)==null?void 0:l.result,c=new Map;f.split(`
`).forEach(p=>{const y=p.split(" "),g=parseInt(y[0],10),N=y.slice(1).join(" ");isNaN(g)?i.lines.push({type:"response",value:`Invalid line format: "${p}". Line number must be a number.`}):c.set(g,N)}),h.clear();for(const[p,y]of c.entries())h.set(p,y);i.lines.push({type:"response",value:`Script loaded with ${h.size} lines.`})},s.readAsText(r)},document.body.appendChild(e),e.click(),document.body.removeChild(e)}function Yn(){const n=new b(Rn),e=new b(Tn);v("save",n),v("load",e)}function Dn(){i.lines.push({type:"response",value:`My name is Liam, I am a software developer with a passion for creating web applications.
I have experience in JavaScript, TypeScript, Svelte, and many more languages.
I enjoy building projects that solve real-world problems and improve user experiences.
I love Star Wars, Chess, and the Gym.
You can find more about me and my projects on my GitHub profile:link:https://github.com/liamg2810`})}function On(){const n=new b(Dn);v("about",n),v("whoami",n),v("me",n)}function Hn(n){i.lines=[],i.text=""}function zn(){const n=new b(Hn);v("clear",n),v("cls",n)}function Gn(n){if(n.length===0){console.warn("No color specified. Use 'colors' to see available colors.");return}const e=parseInt(n[0].toLowerCase());if(isNaN(e)||e<0||e>=se.length){i.lines.push({type:"response",value:"Invalid color index. Use 'colors' to see available colors."});return}nn(e);const t=be[e];i.lines.push({type:"response",value:`Color changed to ${t}.`})}function Kn(){const n=se.map((e,t)=>`${t}: ${be[t]}`).join(`
`);i.lines.push({type:"response",value:`Available colors:
${n}`})}function Bn(){const n=new b(Gn),e=new b(Kn);v("color",n),v("colors",e)}function Jn(n){i.lines.push({type:"response",value:`Current date and time: ${new Date().toLocaleString()}`})}function qn(){const n=new b(Jn);v("date",n)}let W=new Set;function Qn(n){i.lines.push({type:"response",value:"Access denied. You are not root yet... or are you?"})}function Xn(n){const e=n.filter(r=>r.startsWith("-")),t=n.filter(r=>!r.startsWith("-"));if(t.length===0){i.lines.push({type:"response",value:"Usage: rm <file>"});return}if(e.includes("-rf")&&t.includes("~/")){i.lines.push({type:"response",value:"You really shouldn't do that... but okay, if you insist."});return}t.some(r=>r.endsWith("/"))&&i.lines.push({type:"response",value:"The directory is not empty."}),i.lines.push({type:"response",value:"You do not have permission to execute this command. Maybe try 'sudo'?"})}function Zn(n){i.lines.push({type:"response",value:"You found an easter egg! Here's a fun fact: Did you know that the first computer bug was an actual moth? It was found in a Harvard Mark II computer in 1947."})}function et(n){i.lines.push({type:"response",value:"You underestimate my power!"})}function nt(n){i.lines.push({type:"response",value:`
		Here's a chessboard for you:
 		/**
 		 *[♖][♘][♗][♕][♔][♗][♘][♖]
 		 *[♙][♙][♙][♙][♙][♙][♙][♙]
 		 *[▮][  ][▮][  ][▮][  ][▮][  ]
 		 *[  ][▮][  ][▮][  ][▮][  ][▮]
 		 *[▮][  ][▮][  ][▮][  ][▮][  ]
 		 *[  ][▮][  ][▮][  ][▮][  ][▮]
 		 *[♟][♟][♟][♟][♟][♟][♟][♟]
 		 *[♜][♞][♝][♛][♚][♝][♞][♜]
 		*/`})}function tt(n){const e=n.filter(r=>r.startsWith("-")),t=n.filter(r=>!r.startsWith("-"));if(t.length===0&&!e.includes("-l")){i.lines.push({type:"response",value:"No packages specified. Please provide package names."});return}e.includes("-i")||e.includes("--install")?(i.lines.push({type:"response",value:`Installing packages: ${t.join(", ")}`}),t.forEach(r=>{W.has(r)?i.lines.push({type:"response",value:`Package ${r} is already installed.`}):(W.add(r),i.lines.push({type:"response",value:`Package ${r} installed successfully.`}))})):e.includes("-u")||e.includes("--uninstall")?(i.lines.push({type:"response",value:`Uninstalling packages: ${t.join(", ")}`}),t.forEach(r=>{W.has(r)?(W.delete(r),i.lines.push({type:"response",value:`Package ${r} uninstalled successfully.`})):i.lines.push({type:"response",value:`Package ${r} is not installed.`})})):e.includes("-l")||e.includes("--list")?i.lines.push({type:"response",value:`Listing installed packages: ${Array.from(W).join(", ")||"No packages installed."}`}):i.lines.push({type:"response",value:"Unknown command. Use -i, -u, or -l."}),localStorage.setItem("installedPackages",JSON.stringify(Array.from(W)))}function rt(n){if(n.length===0){i.lines.push({type:"response",value:"Usage: echo <message>"});return}i.lines.push({type:"response",value:n.join(" ")})}function st(n){let e=(3+Math.random()).toFixed(2);i.lines.push({type:"response",value:`
                           :+%@@@@@@@@@%*-              		OS: SvelteOS 1.0.0
                       =#@@@@@@@@@@@@@@@@@@@%=          		Kernel: 5.10.42-svelte
                   -*@@@@@@@@@@@@@@@@@@@@@@@@@@*:       		Uptime: ${Je(Be)}
                =@@@@@@@@@@@%+         -#@@@@@@@@*      		Packages: ${Array.from(W).length} (pacman)
            -%@@@@@@@@@@@*:               :%@@@@@@@:    		Shell: Svelte Shell
         +%@@@@@@@@@@#-                     =@@@@@@%:   		Resolution: ${window.screen.width}x${window.screen.height}
       *@@@@@@@@@#+            =#@@@@%       +@@@@@@+   		DE: Svelte Desktop
     :@@@@@@@@*:           -#@@@@@@@@@*:     =@@@@@@*   	    WM: SvelteWM
    :@@@@@@@*           *@@@@@@@@@@@@@@@@@@= *@@@@@@+   		CPU: Intel Core i7 7700K
    *@@@@@@+        =%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#    		GPU: NVIDIA GeForce RTX 2070 Ti
    #@@@@@@:      +@@@@@@@@@*-        -*%@@@@@@@@@%:    		Memory: ${e}GB / 16GB
    #@@@@@@-      -@@@@@%=               :#@@@@@@@:     
    -@@@@@@@                                @@@@@@@-    
     -@@@@@@@#:               :#@@@@%:      -@@@@@@#    
     #@@@@@@@@@%+-        =*%@@@@@@@@+      :@@@@@@%    
    #@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+        =@@@@@@#    
   =@@@@@@*:+@@@@@@@@@@@@@@@@@@%           +@@@@@@@:    
   +@@@@@@=     -*@@@@@@@@@#-           :+@@@@@@@@:     
   =@@@@@@+      :%@@@@%+:           =#@@@@@@@@@#       
   :#@@@@@@=                     -*@@@@@@@@@@@*:        
    :@@@@@@@%:                +@@@@@@@@@@@@+            
      #@@@@@@@@*:         =%@@@@@@@@@@@*:               
       :#@@@@@@@@@@@@@@@@@@@@@@@@@@#=                   
          +%@@@@@@@@@@@@@@@@@@@%+                       
              =#@@@@@@@@@@@#-                           
		`})}function it(){const n=new b(Qn),e=new b(Xn),t=new b(Zn),r=new b(et),s=new b(nt),o=new b(tt),u=new b(rt),f=new b(st),c=localStorage.getItem("installedPackages");c?W=new Set(JSON.parse(c)):W=new Set,v("sudo",n),v("rm",e),v("easteregg",t),v("highground",r),v("chess",s),v("pacman",o),v("pkg",o),v("yum",o),v("apt",o),v("echo",u),v("neofetch",f)}function at(n){i.lines.push({type:"response",value:`Available commands:
	help - Show this help message
	name - Show my name in ASCII art
	about - Learn about me
	projects - List my projects
	color <color> - Change the color of the text:
	colors - List available colors
	clear - Clear the terminal
	date - Show the current date and time
	save <filename> - Save the current script to a text file
	load - Load a script from a text file
	docs - Open the documentation for my custom scripting language
	`})}function ot(){const n=new b(at);v("help",n)}function lt(n){i.lines.push({type:"response",value:"\n		/**\n		* ...........................................................................................................................\n		* 8.8888..........8.8888...........8....................,8........,8.........................................................\n		* 8.8888..........8.8888..........888..................,888......,888........................................................\n		* 8.8888..........8.8888........:88888.................`8888.....`8888.......................................................\n		* 8.8888..........8.8888.........`88888..............,8.`8888..,8.`8888......................................................\n		* 8.8888..........8.8888.......8..`88888............,8'8.`8888,8^8.`8888.....................................................\n		* 8.8888..........8.8888......8`8..`88888..........,8'.`8.`8888'.`8.`8888....................................................\n		* 8.8888..........8.8888.....8'.`8..`88888........,8'...`8.`88'...`8.`8888...................................................\n		* 8.8888..........8.8888....8'...`8..`88888......,8'.....`8.`'.....`8.`8888..................................................\n		* 8.8888..........8.8888...888888888..`88888....,8'.......`8........`8.`8888.................................................\n		* 8.888888888888..8.8888..8'.......`8..`88888..,8'.........`.........`8.`8888................................................\n		* ...........................................................................................................................\n		* .....,o888888o...............8...........8.888888888o....8.888888888o.......b..............8.8.8888888888...8.888888888o...\n		* ....8888.....`88............888..........8.8888....`88...8.8888....`^888....888o...........8.8.8888.........8.8888....`88..\n		* .,8.8888.......`8.........:88888.........8.8888.....`88..8.8888........`88..Y88888o........8.8.8888.........8.8888.....`88.\n		* .88.8888...................`88888........8.8888.....,88..8.8888.........`88..`Y888888o.....8.8.8888.........8.8888.....,88.\n		* .88.8888.................8..`88888.......8.8888....,88'..8.8888..........88.8o..`Y888888o..8.8.888888888888.8.8888....,88'.\n		* .88.8888................8`8..`88888......8.888888888P'...8.8888..........88.8`Y8o..`Y88888o8.8.8888.........8.888888888P'..\n		* .88.8888...8888888.....8'.`8..`88888.....8.8888`8b.......8.8888.........,88.8...`Y8o..`Y8888.8.8888.........8.8888`8b......\n		* .`8.8888........8'....8'...`8..`88888....8.8888.`8b......8.8888........,88'.8......`Y8o..`Y8.8.8888.........8.8888.`8b.....\n		* ....8888.....,88'....888888888..`88888...8.8888...`8b....8.8888....,o88P'...8.........`Y8o.`.8.8888.........8.8888...`8b...\n		* .....`8888888P'.....8'.......`8..`88888..8.8888.....`88..8.888888888P'......8............`Yo.8.888888888888.8.8888.....`88.\n		*/\n		"})}function ct(){const n=new b(lt);v("name",n)}function ft(n){i.lines.push({type:"response",value:`Here are some of my projects:
1. Portfolio Website - A personal portfolio website showcasing my skills and projects.:link:https://www.github.com/liamg2810/terminal-portfolio
2. Chess Game - A web-based chess game with multiplayer support.:link:https://www.github.com/liamg2810/chess-react
`})}function ut(){const n=new b(ft);v("projects",n),v("project",n),v("list-projects",n)}function dt(){ot(),On(),ct(),zn(),ut(),Bn(),qn(),it(),Yn()}var pt=A('<span class="pt-2">>>></span>'),mt=A('<span class="pt-2">?</span>'),ht=A('<span>&nbsp;-&nbsp;</span> <a class="text-blue-500 hover:underline" target="_blank" rel="noopener noreferrer"> </a>',1),vt=A('<span class="flex text-left text-base"><pre> </pre> <!></span>'),gt=A('<div class="flex w-full"><!> <div></div></div>'),yt=A('<span class="pt-2">>>></span>'),bt=A('<span class="pt-2">?</span>'),wt=A('<button tabindex="0" aria-label="Terminal input"><!> <div class="flex flex-1 w-full"><!> <!> <textarea class="resize-none bg-transparent border-none outline-none focus:ring-0 hover:cursor-default w-full"></textarea></div></button>');function Vt(n,e){Te(e,!0);let t;fe(()=>{i.executingScript||t.focus()});async function r(d){d&&(await ue(),t.focus())}fe(()=>{r(i.awaitingInput)});let s=De(!0);function o(d){const w=ye(d);if(!isNaN(parseInt(d.split(" ")[0]))){Mn(parseInt(d),d.split(" ").slice(1).join(" "));return}if(!w){i.lines.push({type:"response",value:`Unknown command: ${d}. Type 'help' for a list of commands.`});return}w.run(d)}async function u(d){if(_(s)){d.preventDefault();return}if(d.key==="Enter"){if(d.preventDefault(),i.awaitingInput){i.inputValue=i.text,i.awaitingInput=!1,i.text="",i.lines.push({type:"scriptin",value:i.inputValue});return}i.lines.push({type:"input",value:i.text}),i.text.trim()!==""&&o(i.text),i.text=""}else d.key.toLowerCase()==="c"&&d.ctrlKey&&(d.preventDefault(),i.text="",console.log("Control + C pressed, clearing input"));await ue(),window.scrollTo(0,document.body.scrollHeight)}Ve(async()=>{dt(),Fn(d=>{i.lines.push({type:"response",value:d})}),Oe(s,!1),document.addEventListener("keydown",d=>{d.key==="Escape"&&(An(),t.focus())})});var f=wt();f.__click=()=>{t.focus()};var c=Y(f);de(c,17,()=>i.lines,pe,(d,w)=>{var L=gt(),k=Y(L);{var $e=V=>{var M=pt();P(V,M)},Ne=(V,M)=>{{var O=U=>{var ee=mt();P(U,ee)};z(V,U=>{_(w).type==="scriptin"&&U(O)},M)}};z(k,V=>{_(w).type==="input"?V($e):V(Ne,!1)})}var Z=T(k,2);de(Z,21,()=>_(w).value.split(`
`),pe,(V,M)=>{var O=vt(),U=Y(O),ee=Y(U,!0);F(U);var Ie=T(U,2);{var ke=H=>{var ie=ht(),ne=T(He(ie),2),_e=Y(ne,!0);F(ne),B((Ce,Se)=>{ze(ne,"href",Ce),oe(_e,Se)},[()=>_(M).split(":link:")[1],()=>_(M).split(":link:")[1].replaceAll("mailto:","").replaceAll("https://","").replaceAll("http://","")]),P(H,ie)};z(Ie,H=>{_(M).split(":link:")[1]&&H(ke)})}F(O),B(H=>oe(ee,H),[()=>_(M).split(":link:")[0]]),P(V,O)}),F(Z),F(L),B(()=>me(Z,1,`${_(w).type!=="response"?"pt-2 pl-3":""}`)),P(d,L)});var l=T(c,2),p=Y(l);{var y=d=>{var w=yt();P(d,w)};z(p,d=>{i.executingScript||d(y)})}var g=T(p,2);{var N=d=>{var w=bt();P(d,w)};z(g,d=>{i.awaitingInput&&d(N)})}var I=T(g,2);qe(I),I.__keydown=u,Ke(I,d=>t=d,()=>t),F(l),F(f),B(()=>{me(f,1,`w-full h-full flex flex-col text-${i.color} px-3 focus:outline-none`),I.disabled=_(s)||i.executingScript&&!i.awaitingInput}),en(I,()=>i.text,d=>i.text=d),P(n,f),Ye()}Ge(["click","keydown"]);export{Vt as component};
